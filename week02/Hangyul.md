# 타입스크립트 개요

## 타입스크립트 및 프로그래밍 언어의 실행 과정
- 프로그래머는 텍스트파일을 작성하고, 컴파일러라는 프로그램이 이 텍스트(소스코드)를 파싱하여 AST(추상구문트리)로 만든다.
- 컴파일러는 이 AST를 바이트코드로 변환하고, 런타임이라는 다른 프로그램에 입력해 평가하고 결과를 얻는다.
- 자바스크립트에서는 컴파일러와 런타임을 합쳐서 (브라우저나 노드 환경의) 자바스크립트 엔진이라고 부르기도 한다.
- 타입스크립트 컴파일러는 소스코드를 AST로 만들지만, 이후 바이트코드가 아닌 자바스크립트로 변환시킨다.
- 타입스크립트는 컴파일 타임, 즉 AST를 만들어 결과물을 내놓기 전에 타입확인을 한다. 
  - c.f. 자바스크립트는 런타임에 타입을 확인하고, 에러를 내거나 암묵적 변환을 실행하기 때문에 실행 전에는 타입을 알 수 없다.
- 즉, 타입스크립트는 자바스크립트에서 특정 타입만 와야 하는 경우 이를 명시하는 언어이다.

## 타입의 종류와 정의
- 타입에는 string, number, boolean, object, undefined, null, unknown, never 등이 있다.
- 타입 리터럴: 오직 하나의 값을 나타내는 타입으로, const로 원시값 타입을 정의하는 경우에는 불변이므로 자동으로 좁게 추론한다.
```ts
let a = true; // boolean 타입으로 추론
const b = true; // true 타입으로 고정
```
- 타입 정의는 블록 레벨 영역을 따른다. 

### 객체 타입
- 객체타입은 객체의 형태(shape)를 정의한다.
- 객체 리터럴로 생성한 것과 생성자함수로 생성한 것을 구분짓지 않는다.
  - TS는 구조기반 타입(c.f. 반대개념은 이름기반 타입)을 갖도록 설계되어 있는 JS 스타일을 따르기 때문
  - 객체의 이름과 상관없이 객체가 소유한 프로퍼티에 따라 타입을 판단하며, 이를 duck typing이라고도 한다.
- const로 정의한 객체의 프로퍼티 값을 좁게 추론하지 않는다.
- 객체타입 정의
  - 따로 명시하지 않으면 정의한 프로퍼티를 형태로 추론
  - 객체 형태를 어노테이션 하는 경우 해당 프로퍼티만을 형태로 인정, 프로퍼티가 추가되거나 누락된 것은 타입 오류로 판단
  - 인덱스 시그니처 `[key: T]: U` 필드 정의: 여러 키를 가질 수 있을 때 T타입(string 또는 number)의 key는 U타입의 값을 갖는다.
  - readonly 한정자: 특정 필드를 읽기전용으로 만들며, 초기화 이후 바꿀 수 없다.

### 배열 타입
- const로 정의한 배열의 값을 좁게 추론하지 않는다.
- 빈 배열은 any 요소로 추론하며, 이후 배열에 들어오는 요소의 타입으로 타입이 확장된다. 
  - 그러나 해당 영역을 벗어나는 경우 (함수 안에서 정의된 배열이 반환되는 등) 더이상 확장되지 않는다.
- 일반 배열은 가변이지만 상황에 따라 readonly 선언하여 불변 배열로 만들 수도 있다.

### 튜플 타입
- 길이가 고정되어있고 각 인덱스의 타입이 정해진 서브타입 배열
- 배열 형태이며 선언할 때 타입을 명시: `[number, number, string]`
- 선택형 요소를 지원: `[number, number?] === ([number] | [number, number])`
- 나머지 요소를 지원: `[string, ...string[]]`
- 이형(서로다른 타입) 배열을 안전하게 관리하며 길이 조절도 가능하므로 사용이 권장된다.

