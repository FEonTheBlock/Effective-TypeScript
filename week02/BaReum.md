# 이펙티브 타입스크립트 스터디

정해진 스터디 범위를 읽고, 각 파트의 요약문을 올리는 방식으로 정리 문서를 작성하겠습니다.

## 2장. 타입스크립트의 타입 시스템

### 아이템 11. 잉여 속성 체크의 한계 인지하기

- 객체 리터럴을 변수에 할당하거나 함수에 매개변수로 전달할 때 잉여 속성 체크가 수행 됨.
- 잉여 속성 체크는 오류를 찾는 효과적인 방법이지만, 타입스크립트 타입 체커가 수행하는 일반적인 구조적 할당 가능성 체크와 역할이 다름. 할당의 개념을 정확히 알아야 잉여 속성 체크와 일반적인 구조적 할당 가능성 체크를 구분 할 수 있음.
- 잉여 속성 체크에는 한계가 있음. 임시 변수를 도입하면 잉여 속성 체크를 건너뛸 수 있음.

### 아이템 12. 함수 표현식에 타입 적용하기

- 매개변수나 반환 값에 타입을 명시하기보다는 함수 표현식 전체에 타입 구문을 적용하는 것이 좋음.
- 만약 같은 타입 시그니처를 반복적으로 작성한 코드가 있다면 함수 타입을 분리해 내거나 이미 존재하는 타입을 찾아보도록 함. 라이브러리를 직접 만든다면 공통 콜백에 타입을 재공해야 함.
- 다른 함수의 시그니처를 참조하려면 `typeof fn`을 사용하면 됨.

### 아이템 13. 타입과 인터페이스의 차이점 알기

- 타입과 인터페이스의 차이점과 비슷한 점을 이해해야 함.
- 한 타입을 `type`과 `interface` 두 가지 문법을 사용해서 작성하는 방법을 터득해야 함.
- 프로젝트에서 어떤 문법을 사용할지 결정할 때 한 가지 일관된 스타일을 확립하고, 보강 기법이 필요한지 고려해야 함.

### 아이템 14. 타입 연산과 제너릭 사용으로 반복 줄이기

- DRY(don't repeat yourself) 원칙을 타입에도 최대한 적용해야 함.
- 타입에 이름을 붙여서 반복을 피해야 함. `extends`를 사용해서 인터페이스 필드의 반복을 피해야 함.
- 타이들 간의 매핑을 위해 타입스크립트가 제공한 도구들을 공부하면 좋음. 여기에는 `keyof`, `typeof`, 인덱싱, 매핑된 타입들이 포함 됨.
- 제너릭 타입은 타입을 위한 함수와 같음. 타입을 반복하는 대신 제너릭 타입을 사용하여 타입들 간에 매핑을 하는 것이 좋음. 제너릭 타입을 제한하려면 `extends`를 사용하면 됨.

### 아이템 15. 동적 데이터에 인덱스 시그니처 사용하기

- 런타임 때까지 객체의 속성을 알 수 없을 경우에만(예를 들어 CSV 파일에서 로드하는 경우) 인덱스 시그니처를 사용하도록 함.
- 안전한 접근을 위해 인덱스 시그니처의 값 타입에 `undefined`를 추가하는 것을 고려해야 함.
- 가능하다면 인터페이스, `Record`, 매핑된 타입 같은 인덱스 시그니처보다 정확한 타입을 사용하는 것이 좋음.

### 아이템 16. number 인덱스 시그니처보다는 Array, 튜플, ArrayLike를 사용하기

- 배열은 객체이므로 키는 숫자가 아니라 문자열임. 인덱스 시그니처로 사용된 `number` 타입은 버그를 잡기 위한 순수 타입스크립트 코드임.
- 인덱스 시그니처에 `number`를 사용하기보다 `Array`나 튜플, 또는 `ArrayLike` 타입을 사용하는 것이 좋음.

### 아이템 17. 변경 관련된 오류 방지를 위해 readonly 사용하기

- 만약 함수가 매개변수를 수정하지 않는다면 `readonly`로 선언하는 것이 좋음. `readonly` 매개변수는 인터페이스를 명확하게 하며, 매개변수가 변경되는 것을 방지함.
- `readonly`를 사용하면 변경하면서 발생하는 오류를 방지할 수 있고, 변경이 발생하는 코드도 쉽게 찾을 수 있음.
- `const`와 `readonly`의 차이를 이해해야 함.
- `readonly`는 얕게 동작한다는 것을 명심해야 함.

### 아이템 18. 매핑된 타입을 사용하여 값을 동기화하기

- 매핑된 타입을 사용해서 관련된 값과 타입을 동기화하도록 함.
- 인터페이스에 새로운 속성을 추가할 때, 선택을 강제하도록 매핑된 타입을 고려해야 함.

<br />

## 3장. 타입 추론

### 아이템 19. 추론 가능한 타입을 사용해 장황한 코드 방지하기

- 타입스크립트가 타입을 추론할 수 있다면 타입 구문을 작성하지 않는게 좋음.
- 이상적인 경우 함수/메서드 시그니처에는 타입 구문이 있지만, 함수 내의 지역 변수에는 타입 구문이 없음.
- 추론될 수 있는 경우라도 객체 리터럴과 함수 반환에는 타입 명시를 고려해야 함. 이는 내부 구현의 오류가 사용자 코드 위치에 나타나는 것을 방지해 줌.

### 아이템 20. 다른 타입에는 다른 변수 사용하기

- 변수의 값은 바뀔 수 있지만 타입은 일반적으로 바뀌지 않음.
- 혼란을 막기 위해 타입이 다른 값을 다룰 때에는 변수를 재사용하지 않도록 함.

<br />

---

<br />

### 출처

[이펙티브 타입스크립트 - 동작 원리의 이해와 구체적인 조언 62가지](http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&ejkGb=KOR&barcode=9788966263134)
